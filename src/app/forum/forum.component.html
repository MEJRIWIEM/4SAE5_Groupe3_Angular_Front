<div id="kt_content_container" class="d-flex flex-column-fluid align-items-stretch container-xxl">
    <!--begin::Aside-->
    
    <!--end::Aside-->
    <!--begin::Wrapper-->
    <div class="wrapper d-flex flex-column flex-row-fluid mt-5 mt-lg-10" id="kt_wrapper">
        <!--begin::Content-->
            <!--begin::Toolbar-->
            <div class="toolbar d-flex flex-stack flex-wrap mb-5 mb-lg-7" id="kt_toolbar">
                <!--begin::Page title-->
                <div class="page-title d-flex flex-column py-1">
                    <!--begin::Title-->
                    <h1 class="d-flex align-items-center my-1">
                        <span class="text-dark fw-bolder fs-1">All Posts</span>
                        <!--begin::Description-->
                        <small class="text-muted fs-6 fw-bold ms-1">({{n}})</small>
                        <!--end::Description-->
                    </h1>
                    <!--end::Title-->
                </div>
                <!--end::Page title-->
                <!--begin::Actions-->
                <div class="d-flex align-items-center py-1">
                    <!--begin::Wrapper-->
                    <div class="me-4 d-none">
                        <!--begin::Menu-->
                        <a href="#" class="btn btn-flex btn-light btn-active-primary fw-bolder" data-kt-menu-trigger="click" data-kt-menu-placement="bottom-end">
                        <!--begin::Svg Icon | path: icons/duotune/general/gen031.svg-->
                        <span class="svg-icon svg-icon-5 svg-icon-gray-500 me-1">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
                                <path d="M19.0759 3H4.72777C3.95892 3 3.47768 3.83148 3.86067 4.49814L8.56967 12.6949C9.17923 13.7559 9.5 14.9582 9.5 16.1819V19.5072C9.5 20.2189 10.2223 20.7028 10.8805 20.432L13.8805 19.1977C14.2553 19.0435 14.5 18.6783 14.5 18.273V13.8372C14.5 12.8089 14.8171 11.8056 15.408 10.964L19.8943 4.57465C20.3596 3.912 19.8856 3 19.0759 3Z" fill="black" />
                            </svg>
                        </span>
                        <!--end::Svg Icon-->Filter</a>
                        <!--begin::Menu 1-->
                        <div class="menu menu-sub menu-sub-dropdown w-250px w-md-300px" data-kt-menu="true" id="kt_menu_61485451405ca">
                            <!--begin::Header-->
                            <div class="px-7 py-5">
                                <div class="fs-5 text-dark fw-bolder">Filter Options</div>
                            </div>
                            <!--end::Header-->
                            <!--begin::Menu separator-->
                            <div class="separator border-gray-200"></div>
                            <!--end::Menu separator-->
                            <!--begin::Form-->
                            <div class="px-7 py-5">
                                <!--begin::Input group-->
                                <div class="mb-10">
                                    <!--begin::Label-->
                                    <label class="form-label fw-bold">Status:</label>
                                    <!--end::Label-->
                                    <!--begin::Input-->
                                    <div>
                                        <select class="form-select form-select-solid" data-kt-select2="true" data-placeholder="Select option" data-dropdown-parent="#kt_menu_61485451405ca" data-allow-clear="true">
                                            <option></option>
                                            <option value="1">Approved</option>
                                            <option value="2">Pending</option>
                                            <option value="2">In Process</option>
                                            <option value="2">Rejected</option>
                                        </select>
                                    </div>
                                    <!--end::Input-->
                                </div>
                                <!--end::Input group-->
                                <!--begin::Input group-->
                                <div class="mb-10">
                                    <!--begin::Label-->
                                    <label class="form-label fw-bold">Member Type:</label>
                                    <!--end::Label-->
                                    <!--begin::Options-->
                                    <div class="d-flex">
                                        <!--begin::Options-->
                                        <label class="form-check form-check-sm form-check-custom form-check-solid me-5">
                                            <input class="form-check-input" type="checkbox" value="1" />
                                            <span class="form-check-label">Author</span>
                                        </label>
                                        <!--end::Options-->
                                        <!--begin::Options-->
                                        <label class="form-check form-check-sm form-check-custom form-check-solid">
                                            <input class="form-check-input" type="checkbox" value="2" checked="checked" />
                                            <span class="form-check-label">Customer</span>
                                        </label>
                                        <!--end::Options-->
                                    </div>
                                    <!--end::Options-->
                                </div>
                                <!--end::Input group-->
                                <!--begin::Input group-->
                                <div class="mb-10">
                                    <!--begin::Label-->
                                    <label class="form-label fw-bold">Notifications:</label>
                                    <!--end::Label-->
                                    <!--begin::Switch-->
                                    <div class="form-check form-switch form-switch-sm form-check-custom form-check-solid">
                                        <input class="form-check-input" type="checkbox" value="" name="notifications" checked="checked" />
                                        <label class="form-check-label">Enabled</label>
                                    </div>
                                    <!--end::Switch-->
                                </div>
                                <!--end::Input group-->
                                <!--begin::Actions-->
                                <div class="d-flex justify-content-end">
                                    <button type="reset" class="btn btn-sm btn-light btn-active-light-primary me-2" data-kt-menu-dismiss="true">Reset</button>
                                    <button type="submit" class="btn btn-sm btn-primary" data-kt-menu-dismiss="true">Apply</button>
                                </div>
                                <!--end::Actions-->
                            </div>
                            <!--end::Form-->
                        </div>
                        <!--end::Menu 1-->
                        <!--end::Menu-->
                    </div>
                    <!--end::Wrapper-->
                    <!--begin::Button-->
                    <a class="btn btn-flex btn-sm btn-primary fw-bolder border-0 fs-6 h-40px" id="kt_toolbar_primary_button" (click)="add()">Add Post</a>
                    <!--end::Button-->
                </div>
                <!--end::Actions-->
            </div>
            <!--end::Toolbar-->
            <!--begin::Post-->
            <div class="post" id="kt_post">
                <!--begin::Questions-->
                <div class="mb-10" *ngFor="let p of posts  |filter:term">
                    <!--begin::Question-->
                    <div class="mb-0">
                        <!--begin::Head-->
                        <div class="d-flex align-items-center mb-4">
                            <!--begin::Title-->
                            <a (click)="showPost(p.idPost)" class="fs-2 fw-bolder text-gray-900 text-hover-primary me-1">{{p.title}}</a>
                            <!--end::Title-->
                            <!--begin::Icons-->
                            <input type="hidden" class="form-control" ngModel  name="post" />

                            <div class="d-flex align-items-center">
                                <span class="ms-1" data-bs-toggle="tooltip" title="New question">
                                    <!--begin::Svg Icon | path: icons/duotune/general/gen045.svg-->
                                    <span class="svg-icon svg-icon-primary svg-icon-1">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
                                            <rect opacity="0.3" x="2" y="2" width="20" height="20" rx="10" fill="black" />
                                            <rect x="11" y="17" width="7" height="2" rx="1" transform="rotate(-90 11 17)" fill="black" />
                                            <rect x="11" y="9" width="2" height="2" rx="1" transform="rotate(-90 11 9)" fill="black" />
                                        </svg>
                                    </span>
                                    <!--end::Svg Icon-->
                                </span>
                                <span class="ms-1" data-bs-toggle="tooltip" title="User replied">
                                    <!--begin::Svg Icon | path: icons/duotune/communication/com010.svg-->
                                    <span class="svg-icon svg-icon-danger svg-icon-1">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
                                            <path d="M6 8.725C6 8.125 6.4 7.725 7 7.725H14L18 11.725V12.925L22 9.725L12.6 2.225C12.2 1.925 11.7 1.925 11.4 2.225L2 9.725L6 12.925V8.725Z" fill="black" />
                                            <path opacity="0.3" d="M22 9.72498V20.725C22 21.325 21.6 21.725 21 21.725H3C2.4 21.725 2 21.325 2 20.725V9.72498L11.4 17.225C11.8 17.525 12.3 17.525 12.6 17.225L22 9.72498ZM15 11.725H18L14 7.72498V10.725C14 11.325 14.4 11.725 15 11.725Z" fill="black" />
                                        </svg>
                                    </span>
                                    <!--end::Svg Icon-->
                                </span>
                            </div>
                            <!--end::Icons-->
                        </div>
                        <!--end::Head-->
                        <!--begin::Summary-->
                        <div class="fs-base fw-normal text-gray-700 mb-4 " >{{ellipsify(p.text)}}</div>
                        <!--end::Summary-->
                        <!--begin::Foot-->
                        <div class="bgi-no-repeat bgi-size-cover rounded min-h-250px mb-5" style="background-image:url({{p.fileURL}});"></div>

                        <div class="d-flex flex-stack flex-wrap">
                            <!--begin::Author-->
                            <div class="d-flex align-items-center py-1">
                                <!--begin::Symbol-->
                                <div class="symbol symbol-35px me-2">
                                    <div class="symbol-label bg-light-success fs-3 fw-bold text-success text-uppercase">{{get(p.user?.firstname)}}</div>
                                </div>
                                <!--end::Symbol-->
                                <!--begin::Name-->
                                <div class="d-flex flex-column align-items-start justify-content-center">
                                    <span class="text-gray-900 fs-7 fw-bold lh-1 mb-2">{{p.user?.firstname}} {{p.user?.lastname}}</span>
                                    <span class="text-muted fs-8 fw-bold lh-1">{{p.timestamp}}</span>
                                </div>
                                <!--end::Name-->
                            </div>
                            <!--end::Author-->
                            <!--begin::Info-->
                            <div class="d-flex align-items-center py-1">
                                <!--begin::Answers-->
                                <!--end::Answers-->
                                <!--begin::Tags-->
                                <!--end::Tags-->
                                <!--begin::Upvote-->
                               
                                <!--end::Svg Icon-->
                                <!--end::Upvote-->
                            </div>
                            <!--end::Info-->
                        </div>
                        <!--end::Foot-->
                    </div>
                    <!--end::Question-->
                    <!--begin::Separator-->
                    <div class="separator separator-dashed border-gray-300 my-8"></div>
                    <!--end::Separator-->
                
                    
                    
                    
                </div>
                <!--end::Questions-->
                <!--begin::Pagination-->
                <div class="d-flex flex-center mb-0">
                    <a href="#" class="btn btn-icon btn-light btn-active-light-primary h-30px w-30px fw-bold fs-6 mx-2">1</a>
                    <a href="#" class="btn btn-icon btn-light btn-active-light-primary h-30px w-30px fw-bold fs-6 mx-2 active">2</a>
                    <a href="#" class="btn btn-icon btn-light btn-active-light-primary h-30px w-30px fw-bold fs-6 mx-2">3</a>
                    <a href="#" class="btn btn-icon btn-light btn-active-light-primary h-30px w-30px fw-bold fs-6 mx-2">4</a>
                    <a href="#" class="btn btn-icon btn-light btn-active-light-primary h-30px w-30px fw-bold fs-6 mx-2">5</a>
                    <span class="text-muted fw-bold fs-6 mx-2">..</span>
                    <a href="#" class="btn btn-icon btn-light btn-active-light-primary h-30px w-30px fw-bold fs-6 mx-2">19</a>
                </div>
                <!--end::Questions-->
            </div>
            <!--end::Post-->
        
        <!--end::Content-->
        <!--begin::Footer-->
        <div class="footer pt-10 pb-5 d-flex flex-column flex-md-row flex-stack" id="kt_footer">
            <!--begin::Copyright-->
            <div class="text-dark order-2 order-md-1">
                <span class="text-muted fw-bold me-1">2021Â©</span>
                <a href="https://keenthemes.com" target="_blank" class="text-gray-800 text-hover-primary">Keenthemes</a>
            </div>
            <!--end::Copyright-->
            <!--begin::Menu-->
            <ul class="menu menu-gray-600 menu-hover-primary fw-bold order-1">
                <li class="menu-item">
                    <a href="https://keenthemes.com" target="_blank" class="menu-link px-2">About</a>
                </li>
                <li class="menu-item">
                    <a href="https://keenthemes.com/support" target="_blank" class="menu-link px-2">Support</a>
                </li>
                <li class="menu-item">
                    <a href="https://1.envato.market/EA4JP" target="_blank" class="menu-link ps-2 pe-0">Purchase</a>
                </li>
            </ul>
            <!--end::Menu-->
        </div>
        <!--end::Footer-->
    </div>
    <!--end::Wrapper-->
    <!--begin::Sidebar-->
    <div class="sidebar p-5 px-lg-0 py-lg-11" data-kt-drawer="true" data-kt-drawer-name="sidebar" data-kt-drawer-activate="{default: true, lg: false}" data-kt-drawer-overlay="true" data-kt-drawer-width="275px" data-kt-drawer-direction="end" data-kt-drawer-toggle="#kt_sidebar_toggle">
        <!--begin::Quick Search-->
        <form id="kt_sidebar_search_form" action="../../demo5/dist/apps/devs/search.html" class="w-100 position-relative mb-5 mb-lg-10" autocomplete="off">
            <!--begin::Hidden input(Added to disable form autocomplete)-->
            <input type="hidden" />
            <!--end::Hidden input-->
            <!--begin::Icon-->
            <!--begin::Svg Icon | path: icons/duotune/general/gen021.svg-->
            <span class="svg-icon svg-icon-2 svg-icon-gray-700 position-absolute top-50 translate-middle-y ms-4">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
                    <rect opacity="0.5" x="17.0365" y="15.1223" width="8.15546" height="2" rx="1" transform="rotate(45 17.0365 15.1223)" fill="black" />
                    <path d="M11 19C6.55556 19 3 15.4444 3 11C3 6.55556 6.55556 3 11 3C15.4444 3 19 6.55556 19 11C19 15.4444 15.4444 19 11 19ZM11 5C7.53333 5 5 7.53333 5 11C5 14.4667 7.53333 17 11 17C14.4667 17 17 14.4667 17 11C17 7.53333 14.4667 5 11 5Z" fill="black" />
                </svg>
            </span>
            <!--end::Svg Icon-->
            <!--end::Icon-->
            <!--begin::Input-->
            <input type="text" class="form-control bg-transparent ps-13 fs-7 h-40px" name="search" [(ngModel)]="term" placeholder="Search" />
            <!--end::Input-->
        </form>
        <!--end::Quick Search-->
        <!--begin::Popular Questions-->
        <div class="card bg-light mb-5 mb-lg-10 shadow-none border-0">
            <!--begin::Header-->
            <div class="card-header align-items-center border-0">
                <!--begin::Title-->
                <h3 class="card-title fw-bolder text-gray-900 fs-3">Popular Post</h3>
                <!--end::Title-->
            </div>
            <!--end::Header-->
            <!--begin::Body-->
            <div class="card-body pt-0">
                <!--begin::Item-->
                <div class="d-flex mb-5">
                    <!--begin::Arrow-->
                    <!--begin::Svg Icon | path: icons/duotune/general/gen057.svg-->
                    <span class="svg-icon svg-icon-2 mt-0 me-2">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
                            <rect opacity="0.3" x="2" y="2" width="20" height="20" rx="5" fill="black" />
                            <path d="M11.9343 12.5657L9.53696 14.963C9.22669 15.2733 9.18488 15.7619 9.43792 16.1204C9.7616 16.5789 10.4211 16.6334 10.8156 16.2342L14.3054 12.7029C14.6903 12.3134 14.6903 11.6866 14.3054 11.2971L10.8156 7.76582C10.4211 7.3666 9.7616 7.42107 9.43792 7.87962C9.18488 8.23809 9.22669 8.72669 9.53696 9.03696L11.9343 11.4343C12.2467 11.7467 12.2467 12.2533 11.9343 12.5657Z" fill="black" />
                        </svg>
                    </span>
                    <!--end::Svg Icon-->
                    <!--end::Arrow-->
                    <!--begin::Title-->
                    <a (click)="showPost(popular.idPost)" class="text-gray-700 text-hover-primary fs-6 fw-bold">{{popular.title}}</a>
                    <!--end::Title-->
                </div>
                <!--end::Item-->
                <!--begin::Item-->
                
                <!--end::Item-->
                <!--begin::Item-->
            
                <!--end::Item-->
                <!--begin::Item-->
                
                <!--end::Item-->
                <!--begin::Item-->
                
                <!--end::Item-->
            </div>
            <!--end: Card Body-->
        </div>
        
        <!--end::Popular Questions-->
        <!--begin::Notifications-->
        <div class="card  mb-5 mb-lg-10 shadow-none border-0 " >
            <!--begin::Header-->
            <div class="card-header align-items-center border-0"  (click)="myFunction()" >
                <!--begin::Title-->
                <h3 class="card-title fw-bolder text-gray-900 fs-3">Notifications &nbsp;
                <span class="svg-icon svg-icon-warning svg-icon-1">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
                        <rect opacity="0.3" x="2" y="2" width="20" height="20" rx="10" fill="black" />
                        <rect x="11" y="14" width="7" height="2" rx="1" transform="rotate(-90 11 14)" fill="black" />
                        <rect x="11" y="17" width="2" height="2" rx="1" transform="rotate(-90 11 17)" fill="black" />
                    </svg>
                </span></h3>
                <!--end::Title-->
            </div>
            <!--end::Header-->
            <!--begin::Body-->
            <div class="card-body pt-0" id="myDIV">
                <!--begin::Item-->
              <!--begin::Item-->
             
            <div class="d-flex flex-stack py-4"  *ngFor="let n of notifs" >
                <!--begin::Section-->
                <div class="d-flex align-items-center me-2" *ngIf="likeOrComment(n)  ; else myFlagFalse;">
                    <!--begin::Code-->
                    <span class=" badge badge-light-danger me-4" style="width: #120;">{{n}}</span>
                    <!--end::Code-->
                    <!--begin::Title-->
                    <!--end::Title-->
                </div>
                <ng-template #myFlagFalse>
                <div class="d-flex align-items-center me-2">
                    <!--begin::Code-->
                    <span class="badge badge-light-success me-4 "  style="width: #120;">{{n}}</span>
                    <!--end::Code-->
                    <!--begin::Title-->
                    <!--end::Title-->
                </div>
            </ng-template>
                <!--end::Section-->
                <!--begin::Label-->
                <!--end::Label-->
            </div>
            <!--end::Item-->
                <!--end::Item-->
                <!--begin::Item-->
                
                <!--end::Item-->
                <!--begin::Item-->
            
                <!--end::Item-->
                <!--begin::Item-->
                
                <!--end::Item-->
                <!--begin::Item-->
                
                <!--end::Item-->
            </div>
            <!--end: Card Body-->
        </div>
            <!--end::Header-->
            <!--begin::Body-->
            
            <!--end: Card Body-->
        </div>
        
        <!--end::Notifications-->
    </div>